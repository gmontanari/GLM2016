---
title: "GLM: Proceso de Inferencia"
output: html_notebook
---

##--- Usar espejo CRAN del ITAM ---
#### options(repos="cran.itam.mx")

###--- Funciones utiles ---
```{r}
prob<-function(x){
  out<-min(length(x[x>0])/length(x),length(x[x<0])/length(x))
  out
}
```

#Ilustración del Proceso de Inferencia
## Proceso Normal-Normal
### Primera ejecucion

```{r}
xbar<-40.9533
sig2<-4
n<-3
th0<-39
sig20<-219.47
y<-seq(-10,100,,100)
f0y<-dnorm(y,th0,sqrt(sig20))
liky<-dnorm(y,xbar,sqrt(sig2/n))
sig21<-1/(n/sig2+1/sig20)
th1<-sig21*(n/sig2*xbar+th0/sig20)
f1y<-dnorm(y,th1,sqrt(sig21))
ymax<-max(f0y,liky,f1y)
plot(y,f0y,ylim=c(0,ymax),type="l")
lines(y,liky,lty=2,col=2)
lines(y,f1y,lty=3,col=3)
```

### Esta gráfica tiene en principio tres densidades:
Una de color nergro: la densidad inicial, que está alrededor de 39, con una varianza de 219.47
Hay una roja (verosimilitud - de los datos) y una verde ( distribución final) encimadas, porque la final en este caso es la verosimilitud: LOS DATOS. Y la razon por la cual la final solo dependió de la verosimilitud (Datos) y no de la inicial fué que la dispersiòn de los datos es muy chica (4) respecto de mi distribucion inicial (219.47)

### Vamos a hacer algunos cambios
Cambio la dispersión de 219.47 a 1.
Y la escala de x a 30-50 para que nos muestre esa parte de interés
Es decir cambio: plot(y,f0y,ylim=c(0,ymax),type="l")
Por: plot(y,f0y,ylim=c(0,ymax),type="l",xlim=c(30,50))

```{r}
xbar<-40.9533
sig2<-4
n<-3
th0<-39
sig20<-1
y<-seq(-10,100,,100)
f0y<-dnorm(y,th0,sqrt(sig20))
liky<-dnorm(y,xbar,sqrt(sig2/n))
sig21<-1/(n/sig2+1/sig20)
th1<-sig21*(n/sig2*xbar+th0/sig20)
f1y<-dnorm(y,th1,sqrt(sig21))
ymax<-max(f0y,liky,f1y)
plot(y,f0y,ylim=c(0,ymax),type="l",xlim=c(30,50))
lines(y,liky,lty=2,col=2)
lines(y,f1y,lty=3,col=3)
```

Porque nos dan picos y no curvas suaves? porque la gráfica solo tiene 100 puntos en y<-seq(-10,100,,100), donde "y" es "la región de graficación"
En la linea que tenemos, esta región es de 100 puntos en el intervalo (-10,100)

Si lo modificamos a 500 y<-seq(-10,100,,500)


```{r}
xbar<-40.9533
sig2<-4
n<-3
th0<-39
sig20<-1
y<-seq(-10,100,,500)
f0y<-dnorm(y,th0,sqrt(sig20))
liky<-dnorm(y,xbar,sqrt(sig2/n))
sig21<-1/(n/sig2+1/sig20)
th1<-sig21*(n/sig2*xbar+th0/sig20)
f1y<-dnorm(y,th1,sqrt(sig21))
ymax<-max(f0y,liky,f1y)
plot(y,f0y,ylim=c(0,ymax),type="l",xlim=c(30,50))
lines(y,liky,lty=2,col=2)
lines(y,f1y,lty=3,col=3)
```

Podemos hacer otro cambio, directamente sobre las "y" y no en la función plot para tener el mismo resultado:

```{r}
xbar<-40.9533
sig2<-4
n<-3
th0<-39
sig20<-1
y<-seq(30,50,,100)
f0y<-dnorm(y,th0,sqrt(sig20))
liky<-dnorm(y,xbar,sqrt(sig2/n))
sig21<-1/(n/sig2+1/sig20)
th1<-sig21*(n/sig2*xbar+th0/sig20)
f1y<-dnorm(y,th1,sqrt(sig21))
ymax<-max(f0y,liky,f1y)
plot(y,f0y,ylim=c(0,ymax),type="l")
lines(y,liky,lty=2,col=2)
lines(y,f1y,lty=3,col=3)
```





Una de color nergro: la densidad inicial, que está alrededor de 39, con una varianza de 219.47
Hay una roja (verosimilitud - de los datos) y una verde ( distribución final) encimadas, porque la final en este caso es la verosimilitud: LOS DATOS. Y la razon por la cual la final solo dependió de la verosimilitud (Datos) y no de la inicial fué que la dispersiòn de los datos es muy chica (4) respecto de mi distribucion inicial (219.47)

### Vamos a hacer algunos cambios
Cambio la dispersión de 219.47 a 1.











Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

```{r}

```






When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file).
